"use strict";$(document).ready(function(){(function(){var d=Math.max;function a(){var a=Math.min;g.length=0;for(var j=0;j<e.length;j++){var k=e[j],l=k.parentNode,m=$(l).find("img"),n=$(l).find("figure").data("align"),o=m.prop("naturalWidth"),p=m.prop("naturalHeight"),h=m.prop("currentSrc"),q=1,r=1,s=1;if($(k).css("background-image","url('"+h+"')"),$(l).hasClass("parallax")){var t=l.getBoundingClientRect();0<t.bottom&&t.top<window.innerHeight&&(q=t.width/o,r=t.height/p,s=a(q,r),(1<r||1<q)&&(s=d(q,r)),1<s&&c($(k),n,s),p*s<t.height&&(s=t.height/(p*s),c($(k),n,s)),p*s>2*t.height&&(r=p*s/(2*t.height),c($(k),n,s,r)),g.push({rect:t,node:k}))}}cancelAnimationFrame(f),g.length&&(f=requestAnimationFrame(b))}function b(){h=$(window).scrollTop();for(var a=0;a<g.length;a++){var b=g[a].rect,c=g[a].node,e=d(b.bottom,0)/(window.innerHeight+b.height);c.style.transform="translate3d(0, "+-50*e+"%, 0)"}}function c(a,b,c){var d,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;switch(b){case"left":d=0;case"right":d=100*-(c-1);default:d=100*(-(c-1)/2);}a.css({width:100*c+"%",left:d+"%"}),0<e&&a.css({height:200*e+"%"})}if("requestAnimationFrame"in window){var e=[];if($(".has-responsive-background-image").each(function(){var a=$(this),b=$("<div>"),c=a.find("img").prop("currentSrc"),d=a.find("figure").data("nomobile"),f=a.find("figure").data("align");if(b.css({backgroundImage:"url("+c+")",backgroundPositionX:f}),b.addClass("bgImage"),b.appendTo(a),e.push(b[0]),/Mobile|Android/.test(navigator.userAgent)&&1==d)return void a.removeClass("parallax")}),!!e.length){var f,g=[];a(),$(window).on("scroll resize",a);var h=$(document).scrollTop();$(document).scrollTop(h+10)}}})()});
