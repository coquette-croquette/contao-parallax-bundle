"use strict";$(document).ready(function(){(function(){function a(){var a=Math.min;f.length=0;for(var g=0;g<d.length;g++){var j=d[g],k=j.parentNode,l=$(k).find("img"),m=l.prop("naturalWidth"),n=l.prop("naturalHeight"),h=l.prop("currentSrc"),o=1,p=1,q=1;if($(j).css("background-image","url('"+h+"')"),$(k).hasClass("parallax")){var r=k.getBoundingClientRect();if(0<r.bottom&&r.top<window.innerHeight){if(o=r.width/m,p=r.height/n,q=a(o,p),n*q<r.height){q=r.height/(n*q);var s;switch(c){case"left":s=0;case"right":s=100*-(q-1);default:s=100*(-(q-1)/2);}$(j).css({width:100*q+"%",left:s+"%"})}f.push({rect:r,node:j})}}}cancelAnimationFrame(e),f.length&&(e=requestAnimationFrame(b))}function b(){var a=Math.max;g=$(window).scrollTop();for(var b=0;b<f.length;b++){var c=f[b].rect,d=f[b].node,e=a(c.bottom,0)/(window.innerHeight+c.height);d.style.transform="translate3d(0, "+-50*e+"%, 0)"}}if("requestAnimationFrame"in window){var c,d=[];if($(".has-responsive-background-image").each(function(){var a=$(this),b=$("<div>"),e=a.find("img").prop("currentSrc");c=a.find("figure").data("align"),b.css({backgroundImage:"url("+e+")",backgroundPositionX:c}),b.addClass("bgImage"),b.appendTo(a),d.push(b[0])}),!!d.length){var e,f=[];a(),$(window).on("scroll resize",a);var g=$(document).scrollTop();$(document).scrollTop(g+10)}}})()});
