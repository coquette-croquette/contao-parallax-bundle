"use strict";$(document).ready(function(){(function(){var f=Math.max;function a(){$(".has-responsive-background-image").each(function(){var a=$(this),c=a.find("img").prop("currentSrc"),e=a.find(".bgImage");""!=c&&(e.css({backgroundImage:"url("+c+")"}),a.hasClass("parallax")&&(d(this,e),b()))})}function b(){j.length=0;for(var a,b=0;b<g.length;b++)if(a=g[b].parentNode,$(a).hasClass("parallax")){var c=a.getBoundingClientRect();0<c.bottom&&c.top<window.innerHeight&&j.push({rect:c,node:g[b]})}cancelAnimationFrame(h),j.length&&(h=requestAnimationFrame(e))}function c(a){return isNaN(a)&&(a=50),a}function d(a,b){var d=a.getBoundingClientRect(),e=c($(a).find("figure").data("valign")),g=f(d.bottom,0)/(window.innerHeight+d.height),h=b.height();b.css({backgroundPositionY:g/2*h*((100-e)/100)+"px"})}function e(){for(var a=0;a<j.length;a++){var b=j[a].rect,c=j[a].node,d=f(b.bottom,0)/(window.innerHeight+b.height);c.style.transform="translate3d(0, "+-50*d+"%, 0)"}}if("requestAnimationFrame"in window){var g=[];if($(".has-responsive-background-image").each(function(){var a=$(this),b=$("<div>"),e=a.find("img").prop("currentSrc"),f=a.find("figure").data("nomobile"),h=c(a.find("figure").data("halign")),i=c(a.find("figure").data("valign"));return b.css({backgroundImage:"url("+e+")",backgroundPositionX:h+"%",backgroundPositionY:i+"%"}),b.addClass("bgImage"),b.appendTo(a),g.push(b[0]),/Mobile|Android/.test(navigator.userAgent)&&1==f?void a.removeClass("parallax"):void(a.hasClass("parallax")&&d(this,b))}),!!g.length){var h,j=[];$(window).on("scroll",b),$(window).on("resize",a);var k=$(document).scrollTop();$(document).scrollTop(k+1)}}})()});
