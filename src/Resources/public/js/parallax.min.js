"use strict";$(document).ready(function(){(function(){var e=Math.max;function a(){var a=Math.min;l.length=0;for(var m=0;m<f.length;m++){var n=f[m],o=n.parentNode,p=$(o).find("img"),q=c($(o).find("figure").data("halign"),g),r=c($(o).find("figure").data("valign"),j),s=p.prop("naturalWidth"),t=p.prop("naturalHeight"),h=p.prop("currentSrc"),u=1,v=1,w=1;if($(n).css("background-image","url('"+h+"')"),$(o).hasClass("parallax")){var x=o.getBoundingClientRect();0<x.bottom&&x.top<window.innerHeight&&(u=x.width/s,v=x.height/t,w=a(u,v),(1<v||1<u)&&(w=e(u,v)),1<w&&d($(n),q,r,t,w),t*w<x.height&&(w=x.height/(t*w),d($(n),q,r,t,w)),t*w>2*x.height&&(v=t*w/(2*x.height),d($(n),q,r,t,w,v)),l.push({rect:x,node:n}))}}cancelAnimationFrame(k),l.length&&(k=requestAnimationFrame(b))}function b(){m=$(window).scrollTop();for(var a=0;a<l.length;a++){var b=l[a].rect,c=l[a].node,d=e(b.bottom,0)/(window.innerHeight+b.height);c.style.transform="translate3d(0, "+-50*d+"%, 0)"}}function c(a,b){return-1==b.indexOf(a)?"center":a}function d(a,b,c,d,e){var f,g,h=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;f="left"===b?0:"right"===b?100*-(e-1):100*(-(e-1)/2),g="top"===c?50+175*(e-1):"bottom"===c?0:50,a.css({width:100*e+"%",left:f+"%",backgroundPositionY:g+"%"}),0<h&&a.css({height:200*h+"%"})}if("requestAnimationFrame"in window){var f=[],g=["left","right"],j=["top","bottom"];if($(".has-responsive-background-image").each(function(){var a=$(this),b=$("<div>"),d=a.find("img").prop("currentSrc"),e=a.find("figure").data("nomobile"),h=c(a.find("figure").data("halign"),g),i=c(a.find("figure").data("valign"),j);if(b.css({backgroundImage:"url("+d+")",backgroundPositionX:h,backgroundPositionY:i}),b.addClass("bgImage"),b.appendTo(a),f.push(b[0]),/Mobile|Android/.test(navigator.userAgent)&&1==e)return void a.removeClass("parallax")}),!!f.length){var k,l=[];a(),$(window).on("scroll resize",a);var m=$(document).scrollTop();$(document).scrollTop(m+10)}}})()});
