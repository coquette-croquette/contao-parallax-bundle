"use strict";$(document).ready(function(){(function(){var d=Math.max;function a(){g.length=0;for(var a=0;a<e.length;a++){var h=e[a].parentNode,j=$(h).find("img").prop("currentSrc");if($(e[a]).css("background-image","url('"+j+"')"),$(h).hasClass("parallax")){var k=h.getBoundingClientRect(),l=$(h).find("img"),m=b($(h).find("figure").data("valign")),n=l.prop("naturalHeight");if(0<k.bottom&&k.top<window.innerHeight){var o=$(e[a]).height();o=d(o,n);var p=$(window).height(),q=(o-k.height)/2*((100-m)/100)*k.height/$(window).height();$(e[a]).css({backgroundPositionY:q+"px"}),g.push({rect:k,node:e[a]})}}}cancelAnimationFrame(f),g.length&&(f=requestAnimationFrame(c))}function b(a){return isNaN(a)&&(a=50),a}function c(){for(var a=0;a<g.length;a++){var b=g[a].rect,c=g[a].node,e=d(b.bottom,0)/(window.innerHeight+b.height);c.style.transform="translate3d(0, "+-50*e+"%, 0)"}}if("requestAnimationFrame"in window){var e=[];if($(".has-responsive-background-image").each(function(){var a=$(this),c=$("<div>"),d=a.find("img").prop("currentSrc"),f=a.find("figure").data("nomobile"),g=b(a.find("figure").data("halign")),h=b(a.find("figure").data("valign"));if(c.css({backgroundImage:"url("+d+")",backgroundPositionX:g+"%",backgroundPositionY:h+"%"}),c.addClass("bgImage"),c.appendTo(a),e.push(c[0]),/Mobile|Android/.test(navigator.userAgent)&&1==f)return void a.removeClass("parallax")}),!!e.length){var f,g=[];$(window).on("scroll resize",a),a();var h=$(document).scrollTop();$(document).scrollTop(h+10)}}})()});
