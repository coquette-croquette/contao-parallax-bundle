"use strict";$(document).ready(function(){(function(){function a(){f.length=0;for(var a=0;a<d.length;a++){var g=d[a].parentNode,j=$(g).find("img").prop("currentSrc");if($(d[a]).css("background-image","url('"+j+"')"),$(g).hasClass("parallax")){var k=g.getBoundingClientRect(),l=$(g).find("img"),m=b($(g).find("figure").data("valign")),n=l.prop("naturalHeight");if(0<k.bottom&&k.top<window.innerHeight){var h=(1.4*k.height-n)*((50-m)/50);$(d[a]).css({backgroundPositionY:h+"px"}),f.push({rect:k,node:d[a]})}}}cancelAnimationFrame(e),f.length&&(e=requestAnimationFrame(c))}function b(a){return isNaN(a)&&(a=50),a}function c(){for(var a=Math.max,b=0;b<f.length;b++){var c=f[b].rect,d=f[b].node,e=a(c.bottom,0)/(window.innerHeight+c.height);d.style.transform="translate3d(0, "+-50*e+"%, 0)"}}if("requestAnimationFrame"in window){var d=[];if($(".has-responsive-background-image").each(function(){var a=$(this),c=$("<div>"),e=a.find("img").prop("currentSrc"),f=a.find("figure").data("nomobile"),g=b(a.find("figure").data("halign")),h=b(a.find("figure").data("valign"));if(isNaN(valign)&&(h=50),c.css({backgroundImage:"url("+e+")",backgroundPositionX:g+"%",backgroundPositionY:h+"%"}),c.addClass("bgImage"),c.appendTo(a),d.push(c[0]),/Mobile|Android/.test(navigator.userAgent)&&1==f)return void a.removeClass("parallax")}),!!d.length){var e,f=[];$(window).on("scroll resize",a),a();var g=$(document).scrollTop();$(document).scrollTop(g+10)}}})()});
